/**
 * Translation object for the internationalization (i18n) of the site.
 * Contains all texts for German (de) and English (en).
 * @type {Object.<string, Object.<string, string>>}
 */
window.translations = {
  en: {
    "nav.about": "About me",
    "nav.skills": "Skill set",
    "nav.work": "My work",
    "nav.contact": "Contact",
    "hero.hello": "Hello! I am Raphael",
    "about.title": "Let's work<br/>together",
    "about.iam": "I am",
    "about.text1":
      "I am a passionate Frontend Developer with a strong focus on creating intuitive and user-friendly web applications. My journey in programming is driven by the constant pursuit of learning new technologies and frameworks. I believe in writing clean, maintainable code that not only works but also makes a difference in users' daily lives.",
    "about.text2":
      "My approach to problem-solving is rooted in analytical thinking and creativity. I enjoy breaking down complex challenges into manageable parts and finding elegant solutions. Through collaboration and persistence, I continuously learn from every project, always striving to improve both my technical skills and my ability to deliver high-quality results.",
    "about.btn": "Send a message",
    "about.badge.location": "located in<br/>Munich",
    "about.badge.remote": "open to work<br/>remote",
    "about.badge.relocate": "open to<br/>relocate",
    "skills.title": "Skill set",
    "skills.cta": "Get in touch",
    "skills.looking": "Looking for a developer?",
    "skills.talk": "Let's talk!",
    "work.title": "My work",
    "work.subtitle":
      "Explore a selection of my work here - Interact with projects to see my skills in action.",
    "work.join.desc":
      "Task manager inspired by the Kanban system. Create and organize tasks using drag and drop functions, assign users and categories.",
    "work.pollo.desc":
      "Jump, run and throw game based on object-oriented approach. Help Pepe to find coins and tabasco sauce to fight against the crazy hen.",
    "work.bubble.desc":
      "A Slack clone (chat application/instant messaging system) modeled using Firebase. Communicate in channels and direct messages.",
    "work.pokedex.desc":
      "Based on the PokéAPI a simple library that provides and catalogs pokémon information.",
    "testimonials.title": "Need a teamplayer?",
    "testimonials.subtitle": "Here what my colleagues said about me",
    "testimonials.james.role": "Frontend Developer",
    "testimonials.james.text":
      '"Raphael is a reliable and friendly developer. He was able to solve complex tasks and write clean code. I highly recommend him as a developer."',
    "testimonials.evelyn.role": "Backend Developer",
    "testimonials.evelyn.text":
      '"Raphael is a motivated and enthusiastic developer who brings creative ideas and is always up for new challenges. He is a pleasure to work with. He is focused and fast."',
    "testimonials.noah.role": "Project Manager",
    "testimonials.noah.text":
      '"Raphael has his develop domain - clear communication, with the team members. He is a reliable and friendly person."',
    "contact.title": "Contact",
    "contact.heading": "Got a problem to solve?",
    "contact.text":
      "If you want people to contact you, give them a way. Fill in your information, so they can reach out to the email or phone number provided.",
    "contact.looking":
      'Would you also consider checking my profile on <a href="https://linkedin.com" target="_blank">LinkedIn</a>?',
    "contact.form.name": "Your name",
    "contact.form.email": "Your email",
    "contact.form.message": "Your message",
    "contact.form.privacy":
      'I\'ve read the <a href="privacypolicy.html">privacy policy</a> and agree to the processing of my data as outlined.',
    "contact.form.btn": "Say Hello ;)",
    "contact.form.error.name": "Please enter your name.",
    "contact.form.error.email": "Please enter a valid email address.",
    "contact.form.error.message": "Please enter a message.",
    "contact.form.sending": "Sending...",
    "contact.form.success": "Thank you for your message!",
    "contact.form.error": "Something went wrong. Please try again later.",
    "footer.legal": "Legal Notice",
    "footer.privacy": "Privacy Policy",
    "legal.title": "Legal Notice",
    "legal.imprint": "Imprint",
    "legal.owner": "Owner:",
    "legal.board": "Explanatory Board",
    "legal.acceptance": "Acceptance of terms",
    "legal.acceptance.text":
      "By accessing and using this website, you acknowledge and agree to the following terms and conditions, and any applicable laws and regulations. If you do not agree, please do not use this site.",
    "legal.scope": "Scope and accuracy of the presented information",
    "legal.scope.text":
      "The information on this website is for general information purposes only. While we strive for accuracy, we make no warranties of any kind about the completeness, reliability, or accuracy of this information.",
    "legal.rights": "Proprietary rights",
    "legal.rights.text":
      "All content, images, and graphics on this site are protected by copyright and may not be used without permission.",
    "legal.use": "Use of the website",
    "legal.use.text":
      "Use of this website and its content is only for informational purposes. Unauthorised use may result in legal action.",
    "legal.disclaimer": "Disclaimer of warranties and limitation of liability",
    "legal.disclaimer.text":
      "We disclaim any liability, whether direct or indirect, for any loss or damage resulting from the use of this website or its content.",
    "legal.date": "Date: February 2026",
    "privacy.title": "Privacy Policy",
    "privacy.text":
      "This website respects your privacy. No personal data is stored or processed beyond what is necessary for contact and communication.<br/>For detailed information about data protection, please contact the site owner.<br/>By using this site, you agree to the privacy terms outlined here.",
    "privacy.back": "Back to Home",
  },
  de: {
    "nav.about": "Über mich",
    "nav.skills": "Fähigkeiten",
    "nav.work": "Meine Arbeit",
    "nav.contact": "Kontakt",
    "hero.hello": "Hallo! Ich bin Raphael",
    "about.title": "Lass uns zusammen arbeiten",
    "about.iam": "Ich bin",
    "about.text1":
      "Ich bin ein leidenschaftlicher Frontend-Entwickler mit einem starken Fokus auf die Entwicklung intuitiver und benutzerfreundlicher Webanwendungen. Meine Reise in der Programmierung wird durch das ständige Streben nach dem Erlernen neuer Technologien und Frameworks angetrieben. Ich glaube an sauberen, wartbaren Code, der nicht nur funktioniert, sondern auch einen Unterschied im Alltag der Nutzer macht.",
    "about.text2":
      "Mein Ansatz zur Problemlösung basiert auf analytischem Denken und Kreativität. Ich genieße es, komplexe Herausforderungen in überschaubare Teile zu zerlegen und elegante Lösungen zu finden. Durch Zusammenarbeit und Ausdauer lerne ich kontinuierlich aus jedem Projekt und strebe danach, sowohl meine technischen Fähigkeiten als auch meine Fähigkeit, qualitativ hochwertige Ergebnisse zu liefern, zu verbessern.",
    "about.btn": "Nachricht senden",
    "about.badge.location": "Standort<br/>München",
    "about.badge.remote": "offen für<br/>Remote-Arbeit",
    "about.badge.relocate": "offen für<br/>Umzug",
    "skills.title": "Fähigkeiten",
    "skills.cta": "Kontakt aufnehmen",
    "skills.looking": "Auf der Suche nach einem Entwickler?",
    "skills.talk": "Lass uns reden!",
    "work.title": "Meine Arbeit",
    "work.subtitle":
      "Entdecke hier eine Auswahl meiner Arbeiten – Interagiere mit Projekten, um meine Fähigkeiten in Aktion zu sehen.",
    "work.join.desc":
      "Aufgabenmanager inspiriert vom Kanban-System. Erstelle und organisiere Aufgaben mit Drag-and-Drop-Funktionen, weise Benutzer und Kategorien zu.",
    "work.pollo.desc":
      "Ein Jump-, Run- und Wurfspiel basierend auf einem objektorientierten Ansatz. Hilf Pepe, Münzen und Tabasco-Flaschen zu finden, um gegen das verrückte Huhn zu kämpfen.",
    "work.bubble.desc":
      "Ein Slack-Klon (Chat-Anwendung/Instant-Messaging-System) modelliert mit POUCH.io/CouchDB.",
    "work.pokedex.desc":
      "Basierend auf der PokéAPI eine einfache Bibliothek, die Pokémon-Informationen bereitstellt und katalogisiert.",
    "testimonials.title": "Teamplayer gesucht?",
    "testimonials.subtitle": "Das sagen meine Kollegen über mich",
    "testimonials.james.role": "Frontend-Entwickler",
    "testimonials.james.text":
      '"Raphael ist ein zuverlässiger und freundlicher Entwickler. Er konnte komplexe Aufgaben lösen und sauberen Code schreiben. Ich empfehle ihn sehr als Entwickler."',
    "testimonials.evelyn.role": "Backend-Entwicklerin",
    "testimonials.evelyn.text":
      '"Raphael ist ein motivierter und begeisterungsfähiger Entwickler, der kreative Ideen einbringt und immer für neue Herausforderungen bereit ist. Die Zusammenarbeit mit ihm macht Freude. Er ist fokussiert und schnell."',
    "testimonials.noah.role": "Projektmanager",
    "testimonials.noah.text":
      '"Raphael hat seine Entwickler-Domäne – klare Kommunikation mit den Teammitgliedern. Er ist eine zuverlässige und freundliche Person."',
    "contact.title": "Kontakt",
    "contact.heading": "Ein Problem zu lösen?",
    "contact.text":
      "Wenn du möchtest, dass man dich kontaktiert, gib ihnen einen Weg. Fülle deine Informationen aus, damit sie dich per E-Mail oder Telefonnummer erreichen können.",
    "contact.looking":
      'Würdest du auch einen Blick auf mein Profil auf <a href="https://linkedin.com" target="_blank">LinkedIn</a> werfen?',
    "contact.form.name": "Dein Name",
    "contact.form.email": "Deine E-Mail",
    "contact.form.message": "Deine Nachricht",
    "contact.form.privacy":
      'Ich habe die <a href="privacypolicy.html">Datenschutzerklärung</a> gelesen und stimme der Verarbeitung meiner Daten wie beschrieben zu.',
    "contact.form.btn": "Sag Hallo ;)",
    "contact.form.error.name": "Bitte gib deinen Namen ein.",
    "contact.form.error.email": "Bitte gib eine gültige E-Mail-Adresse ein.",
    "contact.form.error.message": "Bitte gib eine Nachricht ein.",
    "contact.form.sending": "Wird gesendet...",
    "contact.form.success": "Danke für deine Nachricht!",
    "contact.form.error": "Etwas ist schiefgelaufen. Bitte versuche es später erneut.",
    "footer.legal": "Impressum",
    "footer.privacy": "Datenschutzerklärung",
    "legal.title": "Impressum",
    "legal.imprint": "Impressum",
    "legal.owner": "Inhaber:",
    "legal.board": "Verantwortliche Stelle",
    "legal.acceptance": "Akzeptanz der Bedingungen",
    "legal.acceptance.text":
      "Durch den Zugriff auf und die Nutzung dieser Website erkennen Sie die folgenden Geschäftsbedingungen sowie alle geltenden Gesetze und Vorschriften an. Wenn Sie nicht einverstanden sind, nutzen Sie diese Seite bitte nicht.",
    "legal.scope": "Umfang und Richtigkeit der dargestellten Informationen",
    "legal.scope.text":
      "Die Informationen auf dieser Website dienen nur allgemeinen Informationszwecken. Obwohl wir uns um Genauigkeit bemühen, übernehmen wir keinerlei Gewähr für die Vollständigkeit, Zuverlässigkeit oder Richtigkeit dieser Informationen.",
    "legal.rights": "Eigentumsrechte",
    "legal.rights.text":
      "Alle Inhalte, Bilder und Grafiken auf dieser Seite sind urheberrechtlich geschützt und dürfen nicht ohne Genehmigung verwendet werden.",
    "legal.use": "Nutzung der Website",
    "legal.use.text":
      "Die Nutzung dieser Website und ihrer Inhalte dient ausschließlich Informationszwecken. Eine unbefugte Nutzung kann rechtliche Schritte nach sich ziehen.",
    "legal.disclaimer": "Haftungsausschluss und Haftungsbeschränkung",
    "legal.disclaimer.text":
      "Wir lehnen jede Haftung, ob direkt oder indirekt, für Verluste oder Schäden ab, die aus der Nutzung dieser Website oder ihrer Inhalte entstehen.",
    "legal.date": "Datum: Februar 2026",
    "privacy.title": "Datenschutzerklärung",
    "privacy.text":
      "Diese Website respektiert Ihre Privatsphäre. Es werden keine personenbezogenen Daten gespeichert oder verarbeitet, die über das für Kontakt und Kommunikation Notwendige hinausgehen.<br/>Für detaillierte Informationen zum Datenschutz wenden Sie sich bitte an den Seitenbetreiber.<br/>Durch die Nutzung dieser Seite stimmen Sie den hier dargelegten Datenschutzbestimmungen zu.",
    "privacy.back": "Zurück zur Startseite",
  },
};

/**
 * Currently selected language ("en" or "de").
 * @type {string}
 */
let currentLang = localStorage.getItem("lang") || "en";

/**
 * Sets the language of the page and updates all i18n texts.
 * @param {string} lang - Language code ("en" or "de").
 */
function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem("lang", lang);
  document.documentElement.lang = lang;

  // Translate all elements with data-i18n
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });

  // Translate all elements with data-i18n-html
  document.querySelectorAll("[data-i18n-html]").forEach((el) => {
    const key = el.getAttribute("data-i18n-html");
    if (translations[lang][key]) {
      el.innerHTML = translations[lang][key];
    }
  });

  // Translate all placeholders
  document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (translations[lang][key]) {
      el.placeholder = translations[lang][key];
    }
  });

  // Activate the current language in the toggle
  const toggleSpans = document.querySelectorAll(
    ".lang-toggle button",
  );
  toggleSpans.forEach((span) => {
    span.classList.remove("active");
    span.removeAttribute("aria-current");
    if (span.textContent.trim().toLowerCase() === lang) {
      span.classList.add("active");
      span.setAttribute("aria-current", "true");
    }
  });
}

/**
 * Initializes the language toggle event listeners.
 */
function initLanguageToggle() {
  const toggleSpans = document.querySelectorAll(
    ".lang-toggle button",
  );
  toggleSpans.forEach((span) => {
    span.addEventListener("click", () => {
      const lang = span.textContent.trim().toLowerCase();
      if (lang !== currentLang) {
        setLanguage(lang);
      }
    });
  });
}

/**
 * Initializes the language toggle and sets event listeners for switching.
 * Waits for header to be loaded before attaching event listeners.
 */
window.addEventListener("headerLoaded", () => {
  initLanguageToggle();
  // Apply current language to newly loaded header
  setLanguage(currentLang);
});

/**
 * Apply translations to footer when it's loaded.
 */
window.addEventListener("footerLoaded", () => {
  // Apply current language to newly loaded footer
  setLanguage(currentLang);
});

// Apply saved language on DOMContentLoaded and initialize toggle if available
document.addEventListener("DOMContentLoaded", () => {
  setLanguage(currentLang);
  // Wait a bit for includes to load, then check again
  setTimeout(() => {
    if (document.querySelector(".lang-toggle")) {
      initLanguageToggle();
    }
  }, 100);
});
